(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{874:function(e,t,r){"use strict";r.r(t);var n=r(710),c=r(576),o=r(606),l=r(559),v=r(740),_=r(599),d=r(1),m=(r(128),r(41),r(42)),f=r(111),h=r(7),y=r(199),k=r(0),x=r.n(k),w={data:function(){return{user:f.a.user,mytier:{},datePer:0,response:!1,count:0,dialog:!1,listTiers:[],moment:x.a,newTier:null}},mounted:function(){var e=this;return Object(d.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.run();case 2:case"end":return t.stop()}}),t)})))()},methods:{run:function(){var e=this;return Object(d.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.loadMyTier();case 3:return t.next=5,y.a.getRegisterMonth(e.user.id);case 5:e.response=!0,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},loadMyTier:function(){var e=this;return Object(d.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.loadMyTier();case 2:if(!(f.a.myTiers.length>0)){t.next=28;break}if(t.prev=3,e.listTiers=f.a.myTiers,e.mytier=f.a.mytier,e.datePer=f.a.datePer,e.count=f.a.dateCount,e.newTier=f.a.myTierList.length>0?f.a.myTierList[f.a.myTierList.length-1]:null,!((r=f.a.dateCount)<3&&r>0)){t.next=15;break}return t.next=13,m.a.alert("สมาชิกใกล้หมดอายุแล้ว","info","คุณมีเวลาเหลืออีก ".concat(r," วัน กรุณาต่ออายุหลังจากหมดอายุแล้ว เพื่อให้สามารถใช้งานได้ต่อไป"));case 13:t.next=20;break;case 15:if(0!=r||1!=e.user.in_class){t.next=20;break}return t.next=18,m.a.alert("หมดอายุแล้ว","info","กรุณาต่ออายุหลังจากหมดอายุแล้ว เพื่อให้สามารถใช้งานได้ต่อไป");case 18:return t.next=20,f.a.switchUser(!1);case 20:console.log(f.a.myTierActiveList,f.a.mytier,f.a.dateCount,f.a.datePer,f.a.myTierList),t.next=26;break;case 23:t.prev=23,t.t0=t.catch(3),console.log(t.t0);case 26:t.next=29;break;case 28:e.mytier={};case 29:case"end":return t.stop()}}),t,null,[[3,23]])})))()},closeTier:function(){var e=this;return Object(d.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.putHttp("/api/payout/userpayout/".concat(e.mytier.id,"/"),{status:2});case 2:return t.next=4,e.loadMyTier();case 4:case"end":return t.stop()}}),t)})))()},removeMyTier:function(){var e=this;return Object(d.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!confirm("ต้องการยกเลิกสมาชิกหรือไม่")){t.next=5;break}return t.next=4,h.a.deleteHttp("/api/payout/userpayout/".concat(e.mytier.id,"/"));case 4:location.href="/#/account?tab=1";case 5:case"end":return t.stop()}}),t)})))()},removeNewTier:function(){var e=this;return Object(d.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!confirm("ต้องการยกเลิกสมาชิกหรือไม่")){t.next=5;break}return t.next=4,h.a.deleteHttp("/api/payout/userpayout/".concat(e.newTier.id,"/"));case 4:location.href="/#/account?tab=1";case 5:case"end":return t.stop()}}),t)})))()}},computed:{endDate:function(){try{return x()(this.mytier.end_date).format("DD/MM/YYYY")}catch(e){return"-"}},maxMonth:function(){try{return Number(f.a.setting.max_month)}catch(e){return 0}},inMonth:function(){try{return Number(y.a.countRegisterMonth)}catch(e){return 0}}}},T=r(70),component=Object(T.a)(w,(function(){var e=this,t=e._self._c;return e.response?t("div",[t("h2",{staticClass:"font-semibold"},[e._v("Package ปัจจุบัน  ")]),e._v(" "),t("hr"),t("br"),e._v(" "),e.mytier.id||e.user.in_class?t("div",[0==e.mytier.status?t("div",[e.mytier.image_slip?t("div",[t("center",[t(l.a,{attrs:{size:"60",color:"green"}},[e._v("mdi-check-circle")]),e._v(" "),t("br"),e._v(" "),t("h2",{staticClass:"text-green-500 font-semibold text-xl"},[e._v("อัปโหลดหลักฐานการชำระเงิน เรียบร้อยแล้ว")]),e._v(" "),t("span",{staticClass:"mt-3"},[t("p",[e._v("ขอบคุณที่ใช้บริการ กรุณารอการตรวจสอบข้อมูลการชำระเงิน 1-2 วันทำการ จากนั้นจะสามารถใช้งานได้ต่อไป")])]),e._v(" "),t(c.a,{staticClass:"mt-4",attrs:{depressed:"",color:"warning"},on:{click:function(t){return e.$router.push("/payout/checkout/?id=".concat(e.mytier.id))}}},[e._v("แก้ไขหลักฐานการชำระเงิน")])],1)],1):t("div",[e.mytier.amount>0?t("center",[t(l.a,{staticClass:"mb-2x",attrs:{size:"60",color:"orange"}},[e._v("mdi-information")]),e._v(" "),t("br"),e._v(" "),t(c.a,{attrs:{block:"",depressed:"",color:"success"},on:{click:function(t){return e.$router.push("/payout/checkout/?id=".concat(e.mytier.id))}}},[e._v("อัปโหลดหลักฐานการชำระเงิน")]),e._v(" "),t("p",{staticClass:"mt-3"},[e._v(" หากคุณชำระเงินแล้วรอแอดมินตรวจสอบข้อมูลการชำระเงิน 1-2 วันทำการ")]),e._v(" "),t(c.a,{staticClass:"mt-4",attrs:{block:"",depressed:"",color:"error"},on:{click:function(t){return e.removeMyTier()}}},[e._v("ยกเลิกการสมัคร")])],1):t("center",[t(l.a,{attrs:{size:"60",color:"green"}},[e._v("mdi-check-circle")]),e._v(" "),t("span",{staticClass:"mt-3"},[t("p",[e._v("ขอบคุณที่ใช้บริการ กรุณารอการตรวจสอบข้อมูล 1-2 วันทำการ จากนั้นจะสามารถใช้งานได้ต่อไป")]),e._v(" "),t(c.a,{staticClass:"mt-4",attrs:{block:"",depressed:"",color:"error"},on:{click:function(t){return e.removeMyTier()}}},[e._v("ยกเลิกการสมัคร")])],1)],1)],1)]):1==e.mytier.status?t("div",[e.count<=1?t(n.a,{attrs:{type:"error"}},[e._v("\n                หมดอายุแล้ว กรุณาต่ออายุหลังจากหมดอายุแล้ว เพื่อให้สามารถใช้งานได้ต่อไป \n            ")]):e._e(),e._v(" "),t("h2",{staticClass:"font-semibold text-xl"},[e._v("Package "+e._s("".concat(e.mytier.tier_name)))]),e._v(" \n             "+e._s(e.inMonth)+"/"+e._s(e.maxMonth)+"\n            "),t(v.a,{attrs:{value:e.datePer,height:"15",striped:"",color:e.datePer>=50?"green":e.datePer>=40?"orange":"red"}}),e._v(" (เหลือ "+e._s(e.count)+" วัน)\n            "),t(_.a,{staticClass:"mt-6",attrs:{readonly:"",dense:"",value:e.endDate,label:"วันหมดอายุสมาชิก",id:"id"}}),e._v(" "),t("p",[e._v(e._s(e.mytier.continue_course_data))]),e._v(" "),e.count>0?t(c.a,{attrs:{disabled:null!=e.newTier,block:"",color:"success"},on:{click:function(t){return e.$router.push("/payout?old_id=".concat(e.mytier.id))}}},[e._v("สมัคร Package ใหม่/ต่ออายุสมาชิก")]):e._e(),e._v(" "),null!=e.newTier?t("p",{staticClass:"text-gray-500 text-xs mt-1"},[e._v("* ไม่สามารถสมัคร Package ใหม่/ต่ออายุสมาชิก เนื่องจากคุณมีข้อมูลการซื้อล่วงหน้าแล้ว")]):e._e()],1):t("div",[t("h2",{staticClass:"font-semibold"},[e._v("ไม่ได้เป็นสมาชิก หรือ สถานะสมาชิกของคุณอาจหมดอายุแล้ว")]),e._v(" "),t("p",[e._v(e._s(e.mytier.ect))]),e._v(" "),t(c.a,{attrs:{block:"",color:"success"},on:{click:function(t){return e.$router.push("/payout/")}}},[e._v("สมัครเป็นสมาชิก/ต่ออายุสมาชิก")])],1),e._v(" "),1==e.mytier.status?t("div",[t(o.a),e._v(" "),t("br"),e._v(" "),e.count<1?t(c.a,{attrs:{block:"",color:"success"},on:{click:function(t){return e.$router.push("/payout")}}},[e._v("ต่ออายุสมาชิก")]):e._e()],1):e._e()]):t("div",[t("h2",[e._v("เพื่อใช้งานส่วนต่างๆ ของระบบ คุณต้องเป็นสมาชิกกับ Fitness ก่อน")]),e._v(" "),t(c.a,{staticClass:"mt-5",attrs:{block:"",color:"success"},on:{click:function(t){return e.$router.push("/payout/")}}},[e._v("สมัครเป็นสมาชิกกับ Fitness")])],1),e._v(" "),t("br"),e._v(" "),t("h2",{staticClass:"font-semibold"},[e._v("Package หรือ การต่ออายุล่วงหน้า")]),e._v(" "),t("hr"),t("br"),e._v(" "),e.newTier?t("div",[0==e.newTier.status?t("div",[e.newTier.image_slip?t("div",[t("center",[t(l.a,{attrs:{size:"60",color:"green"}},[e._v("mdi-check-circle")]),e._v(" "),t("br"),e._v(" "),t("h2",{staticClass:"text-green-500 font-semibold text-xl"},[e._v("อัปโหลดหลักฐานการชำระเงิน เรียบร้อยแล้ว")]),e._v(" "),t("span",{staticClass:"mt-3"},[t("p",[e._v("ขอบคุณที่ใช้บริการ กรุณารอการตรวจสอบข้อมูลการชำระเงิน 1-2 วันทำการ จากนั้นจะสามารถใช้งานได้ต่อไป")])]),e._v(" "),t(c.a,{staticClass:"mt-4",attrs:{depressed:"",color:"warning"},on:{click:function(t){return e.$router.push("/payout/checkout/?id=".concat(e.newTier.id))}}},[e._v("แก้ไขหลักฐานการชำระเงิน")])],1)],1):t("div",[t("center",[t(l.a,{staticClass:"mb-2x",attrs:{size:"60",color:"orange"}},[e._v("mdi-information")]),e._v(" "),t("br"),e._v(" "),t(c.a,{attrs:{block:"",depressed:"",color:"success"},on:{click:function(t){return e.$router.push("/payout/checkout/?id=".concat(e.newTier.id))}}},[e._v("อัปโหลดหลักฐานการชำระเงิน")]),e._v(" "),t("p",{staticClass:"mt-3"},[e._v(" หากคุณชำระเงินแล้วรอแอดมินตรวจสอบข้อมูลการชำระเงิน 1-2 วันทำการ")]),e._v(" "),t(c.a,{staticClass:"mt-4",attrs:{block:"",depressed:"",color:"error"},on:{click:function(t){return e.removeNewTier()}}},[e._v("ยกเลิกการสมัคร")])],1)],1)]):1==e.newTier.status?t("div",[t("h2",{staticClass:"font-semibold text-xl"},[e._v("Package "+e._s("".concat(e.newTier.tier_name)))]),e._v(" "),t("p",[e._v(e._s(e.newTier.continue_course_data))])]):t("div",[t("h2",{staticClass:"font-semibold"},[e._v("ไม่ได้เป็นสมาชิก หรือ สถานะสมาชิกของคุณอาจหมดอายุแล้ว")]),e._v(" "),t("p",[e._v(e._s(e.newTier.ect))])])]):t("div",[t("center",[t("h2",[e._v("ไม่มี Package หรือ การต่ออายุล่วงหน้า")])])],1),e._v(" "),t("br"),e._v(" "),t("hr"),e._v(" "),t(c.a,{staticClass:"mt-4",attrs:{text:"",depressed:"",block:"",color:"primary"},on:{click:function(t){return e.$router.push("/history/?tab=0")}}},[e._v("ประวัติการสมัครสมาชิก")])],1):e._e()}),[],!1,null,null,null);t.default=component.exports}}]);