(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{673:function(e,r,t){e.exports=t.p+"img/logox.8267d60.jpg"},805:function(e,r,t){"use strict";t.r(r);var n=t(713),o=t(564),l=t(576),c=t(572),f=t(664),m=t(628),d=t(621),v=[function(){var e=this._self._c;return e("div",{staticClass:"flex flex-col items-center text-center"},[e("img",{staticClass:"rounded-full h-36",attrs:{src:t(673),alt:""}})])}],_=t(2),x=(t(30),t(73),t(45),t(18)),h=(t(116),t(36)),w=t(0),k=t.n(w),$={layout:"auth",data:function(){return{response:!1,form:{},rules:[function(e){return!!e||"ฟิลนี้ต้องจำเป็นต้องกรอก"}],lists:[]}},created:function(){var e=this;return Object(_.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.startup();case 2:e.response=!0;case 3:case"end":return r.stop()}}),r)})))()},methods:{startup:function(){var e=this;return Object(_.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.$core.generateCodeId();case 2:e.form.username=r.sent;case 3:case"end":return r.stop()}}),r)})))()},handleForm:function(){var e=this;return Object(_.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.$refs.login.validate()){r.next=4;break}return r.next=4,e.login();case 4:case"end":return r.stop()}}),r)})))()},login:function(){var e=this;return Object(_.a)(regeneratorRuntime.mark((function r(){var t;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,x.a.postHttp("/api/auth/v2/register/",e.form);case 2:if(!(t=r.sent).id){r.next=10;break}return r.next=6,h.a.alert("สมัครสมาชิกสำเร็จ");case 6:return r.next=8,e.$router.replace("/auth/login/");case 8:r.next=13;break;case 10:return e.error=t,r.next=13,h.a.alert("สมัครสมาชิกไม่สำเร็จ","error","กรุณาตรวจสอบข้อมูลให้ถูกต้อง");case 13:case"end":return r.stop()}}),r)})))()},sumAge:function(){var e=this;return Object(_.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e.form.age=e.$2date(e.form.birth_date,k()(),"years"),e.form.under18=e.form.age<18;case 2:case"end":return r.stop()}}),r)})))()}},computed:{}},y=t(78),component=Object(y.a)($,(function(){var e=this,r=e._self._c;return e.response?r("div",[r("div",{staticClass:"bg w-full py-16 px-4 bg mb-12"},[r("div",{staticClass:"flex flex-col items-center justify-center"},[e._m(0),e._v(" "),r(l.a,{staticClass:"w-full mt-4"},[r(c.b,[r("p",{staticClass:"t focus:outline-none text-2xl font-semibold leading-6",attrs:{tabindex:"0"}},[e._v(e._s(e.$l("สมัครสมาชิก","Register"))+" ")]),e._v(" "),r("p",{staticClass:"font-semibold focus:outline-none text-sm mt-4 font-medium leading-none",attrs:{tabindex:"0"}},[e._v(e._s(e.$l("หากเป็นสมาชิกอยู่แล้ว? ","Already a member?"))+"\n                        "),r("a",{staticClass:"font-semibold",attrs:{href:"javascript:void(0)"},on:{click:function(r){return e.$router.push("/auth/login/")}}},[e._v(" "+e._s(e.$l("เข้าสู่ระบบ","Login"))+" ")])]),e._v(" "),e.form.under18?r(n.a,{attrs:{type:"info"}},[r("span",[e._v("\n                                "+e._s(e.$l("คุณอายุตำกว่า 18 ปี หลังจากที่คุณกดสมัครสมาชิก ทางผู้ดูแลระบบจะตรวจสอบข้อมูลของคุณ และจะเปิดให้ใช้งานภายใน 24 ชั่วโมง หลังจากได้รับอนุญาติจากผู้ปกครองแล้ว","You are under 18 years old after you subscribe. The administrator will verify your information. And will be activated within 24 hours after receiving parental permission."))+"\n                            ")])]):e._e(),e._v(" "),r(f.a,{ref:"login",staticClass:"mt-10"},[r(d.a,{attrs:{disabled:"",rules:e.rules,color:"#4ade80",label:"รหัสสมาชิก",outlined:"",dense:""},model:{value:e.form.username,callback:function(r){e.$set(e.form,"username",r)},expression:"form.username"}}),e._v(" "),r(d.a,{attrs:{type:"password",rules:e.rules,color:"#4ade80",label:"รหัสผ่าน",outlined:"",dense:""},model:{value:e.form.password,callback:function(r){e.$set(e.form,"password",r)},expression:"form.password"}}),e._v(" "),r(d.a,{attrs:{type:"password",rules:e.rules,color:"#4ade80",label:"ยืนยันรหัสผ่าน",outlined:"",dense:""},model:{value:e.form.password_confirm,callback:function(r){e.$set(e.form,"password_confirm",r)},expression:"form.password_confirm"}}),e._v(" "),r(d.a,{attrs:{rules:e.rules,color:"#4ade80",label:"ชื่อ",outlined:"",dense:""},model:{value:e.form.first_name,callback:function(r){e.$set(e.form,"first_name",r)},expression:"form.first_name"}}),e._v(" "),r(d.a,{attrs:{rules:e.rules,color:"#4ade80",label:"นามสกุล",outlined:"",dense:""},model:{value:e.form.last_name,callback:function(r){e.$set(e.form,"last_name",r)},expression:"form.last_name"}}),e._v(" "),r(d.a,{attrs:{rules:e.rules,color:"#4ade80",label:"ชื่อเล่น",outlined:"",dense:""},model:{value:e.form.nick_name,callback:function(r){e.$set(e.form,"nick_name",r)},expression:"form.nick_name"}}),e._v(" "),r(d.a,{attrs:{type:"date",rules:e.rules,color:"#4ade80",label:"วันเกิด",outlined:"",dense:""},on:{change:function(r){return e.sumAge()}},model:{value:e.form.birth_date,callback:function(r){e.$set(e.form,"birth_date",r)},expression:"form.birth_date"}}),e._v(" "),r(d.a,{attrs:{disabled:"",rules:e.rules,color:"#4ade80",label:"อายุ",outlined:"",dense:""},model:{value:e.form.age,callback:function(r){e.$set(e.form,"age",r)},expression:"form.age"}}),e._v(" "),r(d.a,{attrs:{rules:e.rules,color:"#4ade80",label:"อีเมล",outlined:"",dense:""},model:{value:e.form.email,callback:function(r){e.$set(e.form,"email",r)},expression:"form.email"}}),e._v(" "),r(d.a,{attrs:{rules:e.rules,color:"#4ade80",label:"เบอร์",outlined:"",dense:""},model:{value:e.form.tel,callback:function(r){e.$set(e.form,"tel",r)},expression:"form.tel"}}),e._v(" "),r("div",{staticClass:"flex mt-2"},[r(m.a),e._v(" "),r(o.a,{attrs:{color:"success"},on:{click:function(r){return e.handleForm()}}},[e._v("   "+e._s(e.$l("สมัครสมาชิก","Let's Register"))+" ")])],1)],1)],1)],1)],1)])]):e._e()}),v,!1,null,null,null);r.default=component.exports}}]);